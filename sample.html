<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr">

<head>
	<title>Volvelles</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<!-- <meta HTTP-EQUIV="CACHE-CONTROL" CONTENT="Private">
	<meta name="viewport" content="height=device-height,width=device-width" />
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<link rel="apple-touch-icon-precomposed" href="ico.png"/> -->
	<style type="text/css">
	body{
		margin: 0;
		padding: 0;
		background: white;
	}
	</style>
</head>
<body>
	<canvas id="scene" width="800" height="600">
	</canvas>
	
	<script type="text/javascript">

	

	var canvas = document.getElementById("scene");
	var angle= 0;
	var nombreSections = 0;

	canvas.width= window.innerWidth;
	canvas.height= window.innerHeight;
	
	/// DEFINITION DES VARIABLES APPELEES POUR LA CREATION DES DISQUES.
	var disque1;
	var disque2;
	var disque3;
	var disque4;


	///DESSINER UN DISQUE DE LA VOLVELLE.
	/// ---> drawDisque(nom du disque, position en x, position en y, rayon, angle par d√©fault, nombre de section , couleur);

	drawDisque(disque3, 800, 300, 128, 45, 12, "white");
	drawDisque(disque1, 400, 300, 256, 15, 8, "white");
	drawDisque(disque2, 400, 300, 128, 0, 4, "white");
	drawDisque(disque4, 685, 140, 50, 0, 10, "white");
	
	///FONCTION DE DESSIN DU DISQUE.
	function drawDisque(context,posX, posY, rayon, angle, nombreSections, color){

		context = canvas.getContext("2d");

		context.save(); //pour actualisation

		var centreX = 0;
		var centreY = 0;
		var radius = rayon;

		var calculX;
		var calculY;


		context.beginPath();
		context.translate(posX,posY);
		context.rotate(angle*Math.PI/180, posX, posY);
		// context.arc(position X, position Y, rayon, debut du dessin (radian), fin du dessin)
		context.arc( centreX, centreY, radius, 0, Math.PI*2);
		context.fillStyle =color;
		context.fill();
		context.stroke();

		
		for (i=0; i<=nombreSections; i++){

			// POSITIONS DES POINTS SUR LE CERCLE.
			calculX = centreX + (radius * Math.cos(360/nombreSections*i* Math.PI / 180));
			calculY = centreY + (radius * Math.sin(360/nombreSections*i* Math.PI / 180));

			context.beginPath();
			context.moveTo(centreX, centreY);
			context.lineTo(calculX, calculY);
			context.stroke();

		}

		context.restore();//pour actualisation

	}

	///ROTATION DE LA VOLVELLE.
	///alalala

	// canvas.addEventListener("mousemove", rotation, false);
	// function rotation(event){
	// 	angle = angle+1;	
	// 	drawDisque(disque1, 400, 300, 256, angle/-2, 8, "red");
	// 	drawDisque(disque2, 400, 300, 128, angle, 4 ,"cyan");


	// }
	


	
	</script>	
</body>
</html>